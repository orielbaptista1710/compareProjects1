"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[803],{7184:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(5043),r=a(9981),o=a(2768),t=a(579);const l=()=>{const[e,s]=(0,n.useState)({username:"",password:""}),[a,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),m=(0,r.Zp)(),p=a=>{s({...e,[a.target.name]:a.target.value})};return(0,t.jsx)("div",{className:"login-container",children:(0,t.jsx)("div",{className:"login-box",children:(0,t.jsxs)("form",{className:"login-form",onSubmit:async s=>{if(s.preventDefault(),u(!0),d(""),!e.username||!e.password)return d("Please enter both username and password"),void u(!1);try{const{data:s}=await o.A.post("/api/auth/login",e,{headers:{"Content-Type":"application/json"}});s.token&&s.user?(localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),m("admin"===s.user.role?"/admin":"/dashboard")):d("Unexpected server response. Please try again.")}catch(r){var a,n;console.error("Login error:",r);const e=(null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(r.response?`Login failed (${r.response.status})`:r.request?"No response from server":"Error setting up request");d(e)}finally{u(!1)}},children:[(0,t.jsx)("h2",{className:"login-heading",children:"Welcome Back"}),(0,t.jsxs)("label",{className:"login-label",children:["Username",(0,t.jsx)("input",{type:"text",name:"username",className:"login-input",placeholder:"Enter username",value:e.username,onChange:p,required:!0})]}),(0,t.jsxs)("label",{className:"login-label",children:["Password",(0,t.jsx)("input",{type:"password",name:"password",className:"login-input",placeholder:"Enter password",value:e.password,onChange:p,required:!0})]}),(0,t.jsxs)("div",{className:"login-extra",children:[(0,t.jsxs)("label",{className:"remember-me",children:[(0,t.jsx)("input",{type:"checkbox",checked:a,onChange:()=>l(!a)}),"Remember me"]}),(0,t.jsx)("button",{type:"button",className:"forgot-password",onClick:()=>alert("Reset link coming soon!"),children:"Forgot password?"})]}),(0,t.jsx)("button",{type:"submit",className:"login-button",disabled:c,children:c?"Logging in...":"Login"}),i&&(0,t.jsx)("div",{className:"login-error",children:i})]})})})}}}]);
//# sourceMappingURL=803.2a9f0bfa.chunk.js.map