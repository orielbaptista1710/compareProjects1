"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[427],{106:(e,a,s)=>{s.r(a),s.d(a,{default:()=>T});var l=s(5043),r=s(9981),i=s(3248),t=s(3747),n=s(7097),o=s(184),c=s(579);const d=[{label:"Residential",icon:(0,c.jsx)(o.rQ8,{})},{label:"Industrial",icon:(0,c.jsx)(o.hFI,{})},{label:"Retail",icon:(0,c.jsx)(o.Tvt,{})},{label:"Commercial",icon:(0,c.jsx)(o.ymh,{})},{label:"Plot",icon:(0,c.jsx)(o.A4L,{})}],m=["Furnished","Semi Furnished","Unfurnished","Fully Furnished"],h=["Under Construction","Ready to Move","Ready for Development","Possession Within 3 Months","Possession Within 6 Months","Possession Within 1 Year","Ready for Sale"],p=["1","2","3","4","5+"],u=["1","2","3","4","5+"],g=["0","1","2","3","4+"],x=["East","West","North","South","North-East","North-West","South-East","South-West"],j=["Available","Not Available","2 Wheeler","4 Wheeler","2 Parking Slots","No Parking","Disabled","Basement Parking","Disabled Access Parking","Visitor Parking"],v=["New","1-5 years","5-10 years","10+ years"],y=["Ground","1","2","3","4","5+"],N=["Swimming Pool","Pool","Internet / Wi-Fi","Gym","Fire Fighting System","Flower Garden","Garden","24X7 Water Supply","Closed Car Parking","Jogging Track","Gated Community","Children's Play Area","Senior Citizen Siteout","Yoga / Meditation","Conference Rooms","Private Beach Access","Loading Docks","Club House","Nearby Schools & Hospitals","Library","Chess Board","Public Restrooms","Wheelchair Accessibility","Conference Room","Board Room","Cafeteria","Cafe","Lounge","Rooftop Garden","Fitness Center","ATM","Escalators","Loading Dock","Near Hospital","Truck Parking","Near Ambulance Service","Warehouse","Near School Area","Canteen","Near College/University","Community Parks","Walking Paths","Playground","Green Landscaping"],b=["Parking","Wide Roads","Water & Electricity Connections","Near Highway","Rainwater Harvesting","Lifts","Near Railway Station","Concierge Service","Near Airport","Near Stadium","Near Forest Reserve","Near Parks & Greenery","Near Shopping Mall","Near Public Transport","Near Metro Station","Near Beach","Near Lakes & Water Bodies","Basement Parking","Power Backup","Valet Parking","Lift(s)","Near Tourist Attractions","Multiple Entry & Exit Points","Near Industrial Hub","Customer Parking","Public Toilets","Air Conditioning","Solar Power Backup","Water Treatment Plant","Multi-modal Transport Connectivity","Street Lighting","Drainage System","Visitor Parking"],f=["CCTV Surveillance","Anti-Theft Alarms","Fenced Boundary","Digital Access Control","Biometric Access","Night Surveillance","24/7 Security","Emergency Alarm System","Security Guard","Smoke Detectors","Video Door Security","Access Card Entry","Fire Safety System","RFID-based Entry","Security Guards","Near Fire Station","Fenced Perimeter","Emergency Medical Assistance","Gated Premises","Near Police Station","Boundary Wall","Boom Barriers at Entrance","Street Lighting for Safety","Resident Access Control"],k={Maharashtra:{Mumbai:["Andheri West","Andheri East","Bandra West","Bandra East","Borivali","Dadar","Colaba","Juhu","Kandivali","Kurla","Malad","Powai","Worli","Chembur","Vikhroli","Goregaon"],Pune:["Shivajinagar","Hinjewadi","Kothrud","Baner","Viman Nagar","Wakad","Koregaon Park"],Vasai:["Vasai West","Vasai East","Nalasopara","Virar","Naigaon"],Bandra:["Bandra West","Bandra East","Pali Hill","Carter Road","Mount Mary"]},Karnataka:{Bengaluru:["Indiranagar","Whitefield","HSR Layout","Jayanagar","Koramangala","Malleshwaram","BTM Layout","Yelahanka","Electronic City"],Mysuru:["VV Mohalla","Gokulam","Saraswathipuram","Jayalakshmipuram","Lakshmipuram"]},Goa:{Panaji:["Miramar","Dona Paula","Altinho","Campal"],Margao:["Fatorda","Borda","Navelim","Aquem"],Mapusa:["Assagao","Siolim","Anjuna","Calangute"]}};var A=s(2245);const C=[{label:"Cover Image",key:"coverImage"},{label:"Gallery Images",key:"galleryImages"},{label:"Floor Plan",key:"floorplanImages"},{label:"Media Files",key:"mediaFiles"}],F=e=>{let{mediaData:a,setMediaData:s}=e;const[r,i]=(0,l.useState)("coverImage"),[t,n]=(0,l.useState)(!0),[o,d]=(0,l.useState)(!0),[m,h]=(0,l.useState)(!0);return(0,c.jsxs)("div",{className:"media-upload-tabs",children:[(0,c.jsx)("nav",{className:"tabs",role:"tablist",children:C.map((e=>(0,c.jsx)("button",{type:"button",className:"tab "+(r===e.key?"active":""),onClick:()=>i(e.key),role:"tab","aria-selected":r===e.key,children:e.label},e.key)))}),(0,c.jsxs)("section",{className:"upload-area",children:[(0,c.jsxs)("label",{className:"upload-label",children:["Click or Drag files here",(0,c.jsx)("input",{type:"file",accept:"mediaFiles"===r?"image/*,video/*":"image/*",multiple:"coverImage"!==r,onChange:e=>{const a=Array.from(e.target.files).map((e=>"mediaFiles"===r?{type:e.type.includes("video")?"video":"image",src:URL.createObjectURL(e)}:URL.createObjectURL(e)));s((e=>{switch(r){case"coverImage":return{...e,coverImage:a[0]};case"galleryImages":return{...e,galleryImages:[...e.galleryImages,...a]};case"floorplanImages":return{...e,floorplanImages:[...e.floorplanImages,...a]};case"mediaFiles":return{...e,mediaFiles:[...e.mediaFiles,...a]};default:return e}}))},hidden:!0})]}),(0,c.jsx)("div",{className:"preview-gallery",children:(()=>{switch(r){case"coverImage":return a.coverImage&&(0,c.jsx)("img",{src:a.coverImage,alt:"Cover"});case"galleryImages":return a.galleryImages.map(((e,a)=>(0,c.jsx)("img",{src:e,alt:`Gallery ${a+1}`},a)));case"floorplanImages":return a.floorplanImages.map(((e,a)=>(0,c.jsx)("img",{src:e,alt:`Floorplan ${a+1}`},a)));case"mediaFiles":return a.mediaFiles.map(((e,a)=>"video"===e.type?(0,c.jsx)("video",{src:e.src,controls:!0},a):(0,c.jsx)("img",{src:e.src,alt:`Media ${a+1}`},a)));default:return null}})()})]}),(0,c.jsxs)("section",{className:"guidelines",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Accepted formats:"})," .jpg, .gif, .bmp, .png \u2014 Max size: 20MB, Min dimension: 600\xd7400 px"]}),(0,c.jsxs)("p",{children:["You can also email images to"," ",(0,c.jsx)("a",{href:"mailto:photos@magicbricks.com",children:"photos@magicbricks.com"})]}),(0,c.jsx)("div",{className:"image-guidelines",children:[{src:"/images/accepted.jpg",alt:"Accepted",valid:!0},{src:"/images/text-image.jpg",alt:"Image with text",valid:!1},{src:"/images/blurry.jpg",alt:"Blurry",valid:!1},{src:"/images/watermark.jpg",alt:"Watermark",valid:!1}].map(((e,a)=>{let{src:s,alt:l,valid:r}=e;return(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:s,alt:l}),(0,c.jsx)("div",{className:r?"tick":"cross",children:r?"\u2714":"\u2718"})]},a)}))})]}),(0,c.jsxs)("section",{className:"checkboxes",children:[(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:t,onChange:()=>n(!t)})," ","I am posting this property ",(0,c.jsx)("strong",{children:"'exclusively'"})," on Magicbricks"]}),(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:o,onChange:()=>d(!o)})," ","I agree to Magicbricks T&C, Privacy Policy, & Cookie Policy"]}),(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:m,onChange:()=>h(!m)})," ","I want to receive responses on ",(0,c.jsx)("span",{style:{color:"green"},children:"\ud83d\udfe2 WhatsApp"})]})]})]})},S=e=>{let{formData:a,handleChange:s}=e;return(0,c.jsxs)("section",{"aria-labelledby":"property-section",children:[(0,c.jsx)("h3",{id:"property-section",className:"section-title",children:"Property Information"}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"firstName",children:"Developer Name"}),(0,c.jsx)("input",{id:"firstName",className:"form-input",name:"firstName",placeholder:"Your first name",value:a.firstName||"",onChange:s,required:!0})]})}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"title",children:"Title"}),(0,c.jsx)("input",{id:"title",className:"form-input",name:"title",placeholder:"Property title",value:a.title||"",onChange:s,required:!0})]})}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"description",children:"Short Description"}),(0,c.jsx)("textarea",{id:"description",className:"form-input",name:"description",placeholder:"Brief description",value:a.description||"",onChange:s,required:!0,rows:3})]})}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"long_description",children:"Detailed Description"}),(0,c.jsx)("textarea",{id:"long_description",className:"form-input",name:"long_description",placeholder:"Detailed description",value:a.long_description||"",onChange:s,rows:5})]})})]})},P=e=>{let{formData:a,selectedState:s,selectedCity:l,handleStateChange:r,handleCityChange:i,handleLocalityChange:t,handleChange:n}=e;return(0,c.jsxs)("section",{"aria-labelledby":"location-section",children:[(0,c.jsx)("h3",{id:"location-section",className:"section-title",children:"Location Details"}),(0,c.jsxs)("div",{className:"location-details",children:[(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"state",children:"State"}),(0,c.jsxs)("select",{id:"state",className:"form-input",name:"state",value:a.state||"",onChange:r,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select State"}),Object.keys(k).map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]})]}),(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"city",children:"City"}),(0,c.jsxs)("select",{id:"city",className:"form-input",name:"city",value:a.city||"",onChange:i,required:!0,disabled:!s,children:[(0,c.jsx)("option",{value:"",children:"Select City"}),s&&Object.keys(k[s]).map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"locality",children:"Locality"}),(0,c.jsxs)("select",{id:"locality",className:"form-input",name:"locality",value:a.locality||"",onChange:t,required:!0,disabled:!l,children:[(0,c.jsx)("option",{value:"",children:"Select Locality"}),s&&l&&k[s][l].map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]})]}),(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"pincode",children:"Pincode"}),(0,c.jsx)("input",{id:"pincode",className:"form-input",name:"pincode",type:"number",placeholder:"Pincode",value:a.pincode||"",onChange:e=>{e.target.value.length<=6&&/^\d*$/.test(e.target.value)&&n(e)},required:!0})]})]}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"address",children:"Full Address"}),(0,c.jsx)("textarea",{id:"address",className:"form-input",name:"address",placeholder:"Complete property address",value:a.address||"",onChange:n,required:!0,rows:3})]})}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"mapLink",children:"Google Maps Link"}),(0,c.jsx)("input",{id:"mapLink",className:"form-input",name:"mapLink",type:"url",placeholder:"https://maps.google.com/...",value:a.mapLink||"",onChange:n}),(0,c.jsx)("small",{className:"form-text",children:"Paste the full Google Maps URL for this property"})]})})]})]})};var w=s(1118),I=s(2431),D=s(1963);s(5015);const M=e=>{var a,s,l,r;let{formData:i,setFormData:t,handleRadioChange:n,handleChange:o,handleAreaValueChange:N,handleAreaUnitChange:b,availableFrom:f,handleDateChange:k,handleCheckboxChange:A}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{"aria-labelledby":"pricing-section",children:[(0,c.jsx)("h3",{id:"pricing-section",className:"section-title",children:"Property Details"}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{children:"Total Price (\u20b9)"}),(0,c.jsx)(w.A,{style:{width:"100%"},formatter:e=>`\u20b9 ${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\u20b9\s?|(,*)/g,""),min:0,value:i.price||0,onChange:e=>t({...i,price:e})})]})}),(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:i.priceNegotiable||!1,onChange:e=>t((a=>({...a,priceNegotiable:e.target.checked})))}),"Price Negotiable"]})}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsx)("div",{className:"form-col",children:(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{type:"checkbox",checked:i.reraApproved||!1,onChange:e=>t((a=>({...a,reraApproved:e.target.checked})))}),"RERA Approved"]})}),(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"reraNumber",children:"RERA Number (Optional)"}),(0,c.jsx)("input",{type:"text",id:"reraNumber",value:i.reraNumber||"",onChange:e=>t((a=>({...a,reraNumber:e.target.value}))),className:"form-control",placeholder:"Enter RERA Registration No.",disabled:!i.reraApproved})]})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Age of Property"}),(0,c.jsx)("div",{className:"radio-container",children:v.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.ageOfProperty===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"ageOfProperty",value:e,checked:i.ageOfProperty===e,onChange:n}),e]},e)))})]}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"totalFloors",children:"Total Floors in Building"}),(0,c.jsx)("input",{id:"totalFloors",className:"form-input",name:"totalFloors",type:"number",min:"1",placeholder:"Total floors",value:i.totalFloors||"",onChange:o})]})}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Floor Number"}),(0,c.jsx)("div",{className:"radio-container",children:y.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.floor===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"floor",value:e,checked:i.floor===e,onChange:n}),e]},e)))})]}),(0,c.jsx)("div",{className:"form-row",children:(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{children:"Property Area"}),(0,c.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,c.jsx)(w.A,{min:0,value:null!==(a=null===(s=i.area)||void 0===s?void 0:s.value)&&void 0!==a?a:0,onChange:N,style:{flex:2},placeholder:"Enter area"}),(0,c.jsx)(I.A,{value:null!==(l=null===(r=i.area)||void 0===r?void 0:r.unit)&&void 0!==l?l:"sqft",onChange:b,options:[{value:"sqft",label:"Square Feet"},{value:"sqmts",label:"Square Meters"},{value:"guntas",label:"Guntas"},{value:"hectares",label:"Hectares"},{value:"acres",label:"Acres"}],style:{flex:1}})]})]})}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"unitsAvailable",children:"Units Available"}),(0,c.jsx)(w.A,{id:"unitsAvailable",min:1,max:1e3,style:{width:"100%"},value:i.unitsAvailable||1,onChange:e=>{const a=Math.floor(e);t({...i,unitsAvailable:a})},parser:e=>parseInt(e)||1,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),(0,c.jsxs)("div",{className:"form-col",children:[(0,c.jsx)("label",{htmlFor:"availableFrom",children:"Available From"}),(0,c.jsx)(D.A,{selected:f,onChange:k,dateFormat:"dd/MM/yyyy",placeholderText:"Select date",className:"form-control",id:"availableFrom"})]})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Property Type"}),(0,c.jsx)("div",{className:"property-type-container",children:d.map((e=>(0,c.jsxs)("div",{className:"property-type-card "+(i.propertyType===e.label?"selected":""),onClick:()=>{t((a=>({...a,propertyType:e.label})))},children:[e.icon,(0,c.jsx)("span",{children:e.label})]},e.label)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Furnishings"}),(0,c.jsx)("div",{className:"radio-container",children:m.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.furnishing===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"furnishing",value:e,checked:i.furnishing===e,onChange:n}),e]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Possession Status"}),(0,c.jsx)("div",{className:"radio-container",children:h.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.possessionStatus===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"possessionStatus",value:e,checked:i.possessionStatus===e,onChange:n}),e]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"BHK Configuration"}),(0,c.jsx)("div",{className:"radio-container",children:p.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.bhk===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"bhk",value:e,checked:i.bhk===e,onChange:n}),e," BHK"]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Number of Bathrooms"}),(0,c.jsx)("div",{className:"radio-container",children:u.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.bathrooms===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"bathrooms",value:e,checked:i.bathrooms===e,onChange:n}),e]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Number of Balconies"}),(0,c.jsx)("div",{className:"radio-container",children:g.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.balconies===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"balconies",value:e,checked:i.balconies===e,onChange:n}),e]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Facing"}),(0,c.jsx)("div",{className:"radio-container",children:x.map((e=>(0,c.jsxs)("label",{className:"radio-label "+(i.facing===e?"selected":""),children:[(0,c.jsx)("input",{type:"radio",name:"facing",value:e,checked:i.facing===e,onChange:n}),e]},e)))})]}),(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Parking Availability"}),(0,c.jsx)("div",{className:"radio-container",children:j.map((e=>(0,c.jsxs)("label",{className:"checkbox-label "+((i.parkings||[]).includes(e)?"selected":""),children:[(0,c.jsx)("input",{type:"checkbox",name:"parkings",value:e,checked:(i.parkings||[]).includes(e),onChange:()=>A("parkings",e)}),e]},e)))})]})]})})},L=e=>{let{formData:a,setFormData:s,editingId:r,isAdding:i,isUpdating:t,error:n,success:o,handleChange:d,onSubmit:m,handleCancelEdit:h}=e;const[p,u]=(0,l.useState)({coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[]}),[g,x]=(0,l.useState)(a.state||""),[j,v]=(0,l.useState)(a.city||""),[y,C]=(0,l.useState)(Array.isArray(a.landmarks)?a.landmarks:[]),[w,I]=(0,l.useState)(null),[D,L]=(0,l.useState)(Array.isArray(a.amenities)?a.amenities:[]),[B,E]=(0,l.useState)(Array.isArray(a.facilities)?a.facilities:[]),[R,T]=(0,l.useState)(Array.isArray(a.security)?a.security:[]);(0,l.useEffect)((()=>{x(a.state||""),v(a.city||""),C(Array.isArray(a.landmarks)?a.landmarks:[]),L(Array.isArray(a.amenities)?a.amenities:[]),E(Array.isArray(a.facilities)?a.facilities:[]),T(Array.isArray(a.security)?a.security:[]),I(a.availableFrom?new Date(a.availableFrom):null)}),[a]);return(0,c.jsxs)("div",{className:"form-container",children:[(0,c.jsx)("h2",{className:"form-title",children:r?"Edit Property Listing":"Add a New Property"}),(0,c.jsxs)("p",{className:"form-subtitle",children:["Welcome to your property dashboard. Use this form to provide complete details about your property.",(0,c.jsx)("br",{}),"Make sure all required information is accurate to attract potential buyers or renters."]}),n&&(0,c.jsx)(A.A,{message:n,type:"error",showIcon:!0,className:"alert"}),o&&(0,c.jsx)(A.A,{message:o,type:"success",showIcon:!0,className:"alert"}),(0,c.jsxs)("form",{className:"sellform-group",onSubmit:e=>{e.preventDefault(),m({...a,landmarks:y,amenities:D,facilities:B,security:R,parkings:Array.isArray(a.parkings)?a.parkings:[a.parkings].filter(Boolean),area:a.area||{value:"",unit:"sqft"},availableFrom:w?w.toISOString():null,priceNegotiable:a.priceNegotiable||!1,reraApproved:a.reraApproved||!1,reraNumber:a.reraApproved?a.reraNumber:"",media:p})},children:[(0,c.jsx)(S,{formData:a,handleChange:d}),(0,c.jsx)(P,{formData:a,selectedState:g,selectedCity:j,handleStateChange:e=>{const l=e.target.value;x(l),v(""),s({...a,state:l,city:"",locality:""})},handleCityChange:e=>{const l=e.target.value;v(l),s({...a,city:l,locality:""})},handleLocalityChange:e=>{s({...a,locality:e.target.value})},handleChange:d,locationData:k}),(0,c.jsx)(M,{formData:a,setFormData:s,handleRadioChange:e=>{const{name:a,value:l}=e.target;s((e=>({...e,[a]:l})))},handleChange:d,handleAreaValueChange:e=>{s((a=>({...a,area:{...a.area,value:e||0}})))},handleAreaUnitChange:e=>{s((a=>({...a,area:{...a.area,unit:e}})))},availableFrom:w,handleDateChange:e=>{I(e),s((a=>({...a,availableFrom:e?e.toISOString():null})))},handleCheckboxChange:(e,a)=>{s((s=>({...s,[e]:Array.isArray(s[e])?s[e].includes(a)?s[e].filter((e=>e!==a)):[...s[e],a]:[a]})))}}),(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h3",{className:"section-title",children:"Amenities"}),(0,c.jsx)("fieldset",{children:(0,c.jsx)("div",{className:"checkbox-container",children:N.map((e=>(0,c.jsxs)("label",{className:"checkbox-label "+(D.includes(e)?"selected":""),children:[(0,c.jsx)("input",{type:"checkbox",value:e,checked:D.includes(e),onChange:()=>(e=>{const a=D.includes(e)?D.filter((a=>a!==e)):[...D,e];L(a),s((e=>({...e,amenities:a})))})(e)}),e]},e)))})})]}),(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h3",{className:"section-title",children:"Facilities"}),(0,c.jsx)("fieldset",{children:(0,c.jsx)("div",{className:"checkbox-container",children:b.map((e=>(0,c.jsxs)("label",{className:"checkbox-label "+(B.includes(e)?"selected":""),children:[(0,c.jsx)("input",{type:"checkbox",value:e,checked:B.includes(e),onChange:()=>(e=>{const a=B.includes(e)?B.filter((a=>a!==e)):[...B,e];E(a),s((e=>({...e,facilities:a})))})(e)}),e]},e)))})})]}),(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h3",{className:"section-title",children:"Security"}),(0,c.jsx)("fieldset",{children:(0,c.jsx)("div",{className:"checkbox-container",children:f.map((e=>(0,c.jsxs)("label",{className:"checkbox-label "+(R.includes(e)?"selected":""),children:[(0,c.jsx)("input",{type:"checkbox",value:e,checked:R.includes(e),onChange:()=>(e=>{const a=R.includes(e)?R.filter((a=>a!==e)):[...R,e];T(a),s((e=>({...e,security:a})))})(e)}),e]},e)))})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Add Property Media"}),(0,c.jsx)(F,{mediaData:p,setMediaData:u})]}),(0,c.jsxs)("div",{className:"form-buttons",children:[(0,c.jsx)("button",{className:"submit-button",type:"submit",disabled:i||t,children:i||t?i?"Submitting...":"Updating...":r?"Update Property":"Add Property"}),r&&(0,c.jsx)("button",{type:"button",className:"cancel-button",onClick:h,children:"Cancel"})]})]})]})},B=e=>{let{activeTab:a,setActiveTab:s,user:r,handleLogout:i}=e;const[t,n]=(0,l.useState)(!1);return(0,c.jsx)("div",{className:"dashboard-nav",children:(0,c.jsxs)("div",{className:"dashboard-nav-container",children:[(0,c.jsxs)("div",{className:"profile-section",children:[(0,c.jsx)("div",{className:"profile-name",children:"Welcome,"}),(0,c.jsxs)("div",{className:"profile-name",children:[(null===r||void 0===r?void 0:r.displayName)||"Developer","\ud83d\udc4b"]})]}),(0,c.jsxs)("ul",{className:"nav-list",children:[(0,c.jsxs)("li",{className:"nav-item dashboard-dropdown",children:[(0,c.jsxs)("div",{className:"dropdown-trigger",onClick:()=>n(!t),children:[(0,c.jsx)(o.rQ8,{className:"nav-icon"}),(0,c.jsx)("span",{children:"Overview"})]}),(0,c.jsxs)("ul",{className:"dropdown-content "+(t?"open":""),children:[(0,c.jsx)("li",{className:"stat-card",children:"Total Properties: "}),(0,c.jsx)("li",{className:"stat-card",children:"Pending Approvals: "}),(0,c.jsx)("li",{className:"stat-card",children:"Site Visits: "})]})]}),(0,c.jsxs)("li",{className:"nav-item "+("sell"===a?"active":""),onClick:()=>s("sell"),children:[(0,c.jsx)(o.E5P,{className:"nav-icon"}),"Sell Property"]}),(0,c.jsxs)("li",{className:"nav-item "+("properties"===a?"active":""),onClick:()=>s("properties"),children:[(0,c.jsx)(o.kkc,{className:"nav-icon"}),"My Properties"]}),(0,c.jsxs)("li",{className:"nav-item",children:[(0,c.jsx)(o.Mu7,{className:"nav-icon"}),"Support / Help Center"]}),(0,c.jsxs)("li",{className:"nav-item",onClick:i,children:[(0,c.jsx)(o.axc,{className:"nav-icon"}),"Log Out"]})]})]})})};var E=s(2768);const R="http://localhost:5000",T=()=>{const[e,a]=(0,l.useState)("sell"),s=(0,r.Zp)(),o=(0,l.useMemo)((()=>localStorage.getItem("token")||""),[]),d=(0,i.jE)(),[m,h]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",title:"",description:"",long_description:"",state:"",city:"",locality:"",address:"",pincode:"",landmarks:[],area:{value:0,unit:"sqft"},reraApproved:!1,reraNumber:"",priceNegotiable:!1,price:"",propertyType:"",furnishing:"",possessionStatus:"",bhk:"",bathrooms:"",balconies:"",facing:"",parkings:[],ageOfProperty:"",totalFloors:"",floor:"",unitsAvailable:"",availableFrom:null,coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[],amenities:[],facilities:[],security:[]}),p=(0,l.useCallback)((e=>e?e>=1e7?`\u20b9${(e/1e7).toFixed(2)} Cr`:e>=1e5?`\u20b9${(e/1e5).toFixed(2)} Lakh`:`\u20b9${e.toLocaleString("en-IN")}`:"Price on Request"),[]),[u,g]=(0,l.useState)(""),[x,j]=(0,l.useState)(""),[v,y]=(0,l.useState)(null),{data:N}=(0,t.I)({queryKey:["current-user"],queryFn:async()=>{try{return(await E.A.get("/api/auth/me",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data.user}catch(u){var e;throw 401===(null===(e=u.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("token"),s("/login")),u}},enabled:!!o,staleTime:36e5});(0,l.useEffect)((()=>{o||s("/login")}),[o,s]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{g(""),j("")}),5e3);return()=>clearTimeout(e)}),[u,x]);const b=(0,l.useCallback)((()=>{localStorage.removeItem("token"),d.removeQueries(["my-properties"]),d.removeQueries(["current-user"]),s("/login")}),[s,d]),{data:f=[],isLoading:k,isError:A,refetch:C}=(0,t.I)({queryKey:["my-properties"],queryFn:async()=>{try{const e=await E.A.get("/api/properties/my-properties",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!Array.isArray(e.data))throw new Error("Invalid response format");return e.data}catch(u){var e;throw 401===(null===(e=u.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("token"),s("/login")),u}},enabled:!!o,onError:e=>{var a,l,r;const i=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)||"Failed to fetch properties"),401===i&&(localStorage.removeItem("token"),s("/login"))}}),{mutate:F,isPending:S}=(0,n.n)({mutationFn:e=>E.A.post("/api/properties/add",e,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{h({title:"",description:"",long_description:"",city:"",locality:"",address:"",pincode:""}),j("Property added successfully"),y(null),C(),a("properties")},onError:e=>{var a,s,l,r,i,t;console.error("Full error:",e),console.error("Response data:",null===(a=e.response)||void 0===a?void 0:a.data);const n=null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status,o=(null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)||(null===(i=e.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.error)||"Failed to add property";g(o),401!==n&&403!==n||b()}}),{mutate:P,isPending:w}=(0,n.n)({mutationFn:e=>E.A.put(`/api/properties/update/${v}`,e,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{h({title:"",description:"",long_description:"",city:"",locality:"",address:"",pincode:""}),j("Property updated successfully"),y(null),C(),a("properties")},onError:e=>{var a,s,l;const r=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to update property"),401!==r&&403!==r||b()}}),{mutate:I}=(0,n.n)({mutationFn:e=>E.A.delete(`/api/properties/delete/${e}`,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{j("Property deleted successfully"),C()},onError:e=>{var a,s,l;const r=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to delete property"),401!==r&&403!==r||b()}});return(0,c.jsx)("div",{className:"dashboard-container",children:(0,c.jsxs)("div",{className:"dashboard-layout",children:[(0,c.jsx)(B,{activeTab:e,setActiveTab:a,user:N,handleLogout:b}),(0,c.jsxs)("div",{className:"dashboard-content",children:["sell"===e&&(0,c.jsx)(L,{formData:m,setFormData:h,editingId:v,isAdding:S,isUpdating:w,error:u,success:x,handleChange:e=>{const{name:a,value:s}=e.target;h((e=>({...e,[a]:s})))},onSubmit:e=>{const a=["title","description","city","locality","address","pincode","propertyType","furnishing","possessionStatus","price","unitsAvailable"].filter((a=>!e[a]));a.length>0?g(`Please fill in all required fields: ${a.join(", ")}`):v?P(e):F(e)},handleCancelEdit:()=>{y(null),h({firstName:"",lastName:"",email:"",phone:"",title:"",description:"",long_description:"",state:"",city:"",locality:"",address:"",pincode:"",landmarks:[],propertyType:"",furnishing:"",possessionStatus:"",bhk:"",bathrooms:"",balconies:"",facing:"",parkings:[],price:"",ageOfProperty:"",totalFloors:"",floor:"",coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[],amenities:[],facilities:[],security:[],area:{value:0,unit:"sqft"},unitsAvailable:"",availableFrom:"",mapLink:"",reraApproved:!1,reraNumber:"",priceNegotiable:!1})}}),"properties"===e&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{className:"properties-title",children:"My Properties"}),k?(0,c.jsx)("div",{children:"Loading properties..."}):A?(0,c.jsx)("div",{className:"error",children:"Error loading properties"}):f.length>0?(0,c.jsx)("div",{className:"properties-grid",children:f.map((e=>{var s,l,r;return(0,c.jsxs)("div",{className:"property-card",children:[(0,c.jsxs)("div",{className:"property-header",children:[(0,c.jsx)("h4",{className:"property-title",children:e.title}),(0,c.jsx)("div",{className:"property-status",style:{color:"approved"===e.status?"green":"rejected"===e.status?"red":"orange"},children:e.status})]}),e.coverImage&&(0,c.jsx)("div",{className:"property-cover",children:(0,c.jsx)("img",{src:e.coverImage.startsWith("http")?e.coverImage:`${R}${e.coverImage}`,alt:e.title,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-property.jpg"}})}),(null===(s=e.galleryImages)||void 0===s?void 0:s.length)>0&&(0,c.jsx)("div",{className:"property-galleryy",children:(0,c.jsx)("div",{className:"gallery-scroll",children:e.galleryImages.map(((e,a)=>(0,c.jsx)("img",{src:e.startsWith("http")?e:`${R}${e}`,alt:`Gallery ${a}`},a)))})}),(0,c.jsxs)("div",{className:"property-details",children:[(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Location:"}),(0,c.jsxs)("span",{children:[e.state,",",e.locality,", ",e.city]})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Address:"}),(0,c.jsxs)("span",{children:[e.address,",",e.pincode]})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Map Link:"}),(0,c.jsx)("span",{children:e.mapLink})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Property Type:"}),(0,c.jsx)("span",{children:e.propertyType})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Furnishing:"}),(0,c.jsx)("span",{children:e.furnishing})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Possession Status:"}),(0,c.jsx)("span",{children:e.possessionStatus})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"BHK:"}),(0,c.jsx)("span",{children:e.bhk})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Bathrooms:"}),(0,c.jsx)("span",{children:e.bathrooms})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Balconies:"}),(0,c.jsx)("span",{children:e.balconies})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Facing:"}),(0,c.jsx)("span",{children:e.facing})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Parking:"}),(0,c.jsx)("span",{children:e.parkings})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Developer Name:"}),(0,c.jsx)("span",{children:e.firstName})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Price:"}),(0,c.jsxs)("span",{children:[p(e.price),"(\u20b9",e.price,")"]})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Area:"}),(0,c.jsxs)("span",{children:[null===(l=e.area)||void 0===l?void 0:l.value," ",null===(r=e.area)||void 0===r?void 0:r.unit]})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Property Age:"}),(0,c.jsx)("span",{children:e.ageOfProperty})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Total Floors:"}),(0,c.jsx)("span",{children:e.totalFloors})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Floor No:"}),(0,c.jsx)("span",{children:e.floor})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Units Availability:"}),(0,c.jsx)("span",{children:e.unitsAvailable})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Availability Date:"}),(0,c.jsx)("span",{children:e.availableFrom?new Date(e.availableFrom).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"Not set"})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:" RERA Approved:"}),(0,c.jsx)("span",{children:e.reraApproved?"\u2705":"\u274c"})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:" RERA No:"}),(0,c.jsx)("span",{children:e.reraNumber})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Price is negotiable:"}),(0,c.jsx)("span",{children:e.priceNegotiable?"\u2705":"\u274c"})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Amenities:"}),(0,c.jsx)("span",{children:e.amenities})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Facilities:"}),(0,c.jsx)("span",{children:e.facilities})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("span",{className:"detail-label",children:"Security:"}),(0,c.jsx)("span",{children:e.security})]})]}),(0,c.jsxs)("div",{className:"property-description",children:[(0,c.jsx)("h5",{children:"Description:"}),(0,c.jsx)("p",{children:e.description}),e.long_description&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h5",{children:"Details:"}),(0,c.jsx)("p",{children:e.long_description})]})]}),e.floorplanImages&&e.floorplanImages.length>0&&(0,c.jsxs)("div",{className:"property-floorplans",children:[(0,c.jsxs)("h5",{children:["Floor Plans (",e.floorplanImages.length,")"]}),(0,c.jsx)("div",{className:"floorplan-grid",children:e.floorplanImages.map(((e,a)=>(0,c.jsx)("div",{className:"floorplan-item",children:(0,c.jsx)("img",{src:`${R}${e}`,alt:`Floorplan ${a}`,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-floorplan.jpg"}})},a)))})]}),e.mediaFiles&&e.mediaFiles.length>0&&(0,c.jsxs)("div",{className:"property-media",children:[(0,c.jsxs)("h5",{children:["Media Files (",e.mediaFiles.length,")"]}),(0,c.jsx)("div",{className:"media-grid",children:e.mediaFiles.map(((e,a)=>(0,c.jsx)("div",{className:"media-item",children:"image"===e.type?(0,c.jsx)("img",{src:`${R}${e.src}`,alt:`Media ${a}`,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-image.jpg"}}):(0,c.jsx)("div",{className:"video-container",children:(0,c.jsx)("video",{controls:!0,children:(0,c.jsx)("source",{src:`${R}${e.src}`,type:`video/${e.src.split(".").pop()}`})})})},a)))})]}),"rejected"===e.status&&e.rejectionReason&&(0,c.jsxs)("div",{className:"property-rejection",children:[(0,c.jsx)("h5",{children:"Rejection Reason:"}),(0,c.jsx)("p",{children:e.rejectionReason})]}),(0,c.jsxs)("div",{className:"property-actions",children:[(0,c.jsx)("button",{className:"edit-button",onClick:()=>{return y((s=e)._id),h({firstName:s.firstName||"",title:s.title||"",description:s.description||"",long_description:s.long_description||"",state:s.state||"",city:s.city||"",locality:s.locality||"",address:s.address||"",pincode:s.pincode||"",propertyType:s.propertyType||"",furnishing:s.furnishing||"",possessionStatus:s.possessionStatus||"",bhk:s.bhk||"",bathrooms:s.bathrooms||"",balconies:s.balconies||"",facing:s.facing||"",parkings:Array.isArray(s.parkings)?s.parkings:s.parkings?[s.parkings]:[],landmarks:Array.isArray(s.landmarks)?s.landmarks:[],price:s.price||"",ageOfProperty:s.ageOfProperty||"New",totalFloors:s.totalFloors||"",floor:s.floor||"",coverImage:s.coverImage||"",galleryImages:s.galleryImages||[],floorplanImages:s.floorplanImages||[],mediaFiles:s.mediaFiles||[],amenities:s.amenities||[],facilities:s.facilities||[],security:s.security||[],area:s.area||{value:0,unit:"sqft"},unitsAvailable:s.unitsAvailable||1,availableFrom:s.availableFrom||null,mapLink:s.mapLink||"",reraApproved:s.reraApproved||!1,reraNumber:s.reraNumber||"",priceNegotiable:s.priceNegotiable||!1}),a("sell"),void window.scrollTo({top:0,behavior:"smooth"});var s},children:"Edit"}),(0,c.jsx)("button",{className:"delete-button",onClick:()=>{return a=e._id,void(window.confirm("Are you sure you want to delete this property?")&&I(a));var a},children:"Delete"})]})]},e._id)}))}):(0,c.jsx)("div",{className:"empty-state",children:"No properties found"})]})]})]})})}}}]);
//# sourceMappingURL=427.07f8b4dc.chunk.js.map