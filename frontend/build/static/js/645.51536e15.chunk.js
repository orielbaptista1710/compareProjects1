"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[645],{6645:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var a=o(5043),r=o(2768),s=(o(1161),o(579));const c=()=>{const[e,t]=(0,a.useState)((()=>{const e=localStorage.getItem("customerData");return e?JSON.parse(e):null}));(0,a.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("customerToken"),{data:o}=await r.A.get("/api/customers/me",{headers:{Authorization:`Bearer ${e}`}});t(o.customer),localStorage.setItem("customerData",JSON.stringify(o.customer))}catch(e){console.warn("Cannot refresh customer data",e)}})()}),[]);return(0,s.jsxs)("div",{className:"auth-container",children:[(0,s.jsxs)("h1",{children:["Welcome, ",(null===e||void 0===e?void 0:e.name)||"Customer"]}),(0,s.jsx)("h1",{}),(0,s.jsxs)("p",{children:["Email: ",null===e||void 0===e?void 0:e.email]}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),window.location.href="/"},children:"Logout"})]})}}}]);
//# sourceMappingURL=645.51536e15.chunk.js.map