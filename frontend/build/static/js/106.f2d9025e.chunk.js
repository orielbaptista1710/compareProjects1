"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[106],{106:(e,a,s)=>{s.r(a),s.d(a,{default:()=>O});var l=s(5043),r=s(9981),i=s(3248),t=s(3747),n=s(7097),o=s(5878),c=s(7412),d=s(1825),m=s(5883),h=s(2e3),p=s(3910),u=s(579);const g=[{label:"Flats/Apartments",icon:(0,u.jsx)(p.g,{icon:o.faHouse})},{label:"Villa",icon:(0,u.jsx)(p.g,{icon:c.UR})},{label:"Plot",icon:(0,u.jsx)(p.g,{icon:h.e5})},{label:"Shop/Showroom",icon:(0,u.jsx)(p.g,{icon:m.H3})},{label:"Industrial Warehouse",icon:(0,u.jsx)(p.g,{icon:d.D_})},{label:"Retail",icon:(0,u.jsx)(p.g,{icon:m.H3})}],x=["Furnished","Semi Furnished","Unfurnished","Fully Furnished"],v=["Under Construction","Ready to Move","Ready for Development","Possession Within 3 Months","Possession Within 6 Months","Possession Within 1 Year","Ready for Sale"],j=["1","2","3","4","5+"],y=["1","2","3","4","5+"],N=["0","1","2","3","4+"],b=["East","West","North","South","North-East","North-West","South-East","South-West"],f=["Available","Not Available","2 Wheeler","4 Wheeler","2 Parking Slots","No Parking","Disabled","Basement Parking","Disabled Access Parking","Visitor Parking"],k=["New","1-5 years","5-10 years","10+ years"],C=["Ground","1","2","3","4","5+"],A=["Swimming Pool","Pool","Internet / Wi-Fi","Gym","Fire Fighting System","Flower Garden","Garden","24X7 Water Supply","Closed Car Parking","Jogging Track","Gated Community","Children's Play Area","Senior Citizen Siteout","Yoga / Meditation","Conference Rooms","Private Beach Access","Loading Docks","Club House","Nearby Schools & Hospitals","Library","Chess Board","Public Restrooms","Wheelchair Accessibility","Conference Room","Board Room","Cafeteria","Cafe","Lounge","Rooftop Garden","Fitness Center","ATM","Escalators","Loading Dock","Near Hospital","Truck Parking","Near Ambulance Service","Warehouse","Near School Area","Canteen","Near College/University","Community Parks","Walking Paths","Playground","Green Landscaping"],S=["Parking","Wide Roads","Water & Electricity Connections","Near Highway","Rainwater Harvesting","Lifts","Near Railway Station","Concierge Service","Near Airport","Near Stadium","Near Forest Reserve","Near Parks & Greenery","Near Shopping Mall","Near Public Transport","Near Metro Station","Near Beach","Near Lakes & Water Bodies","Basement Parking","Power Backup","Valet Parking","Lift(s)","Near Tourist Attractions","Multiple Entry & Exit Points","Near Industrial Hub","Customer Parking","Public Toilets","Air Conditioning","Solar Power Backup","Water Treatment Plant","Multi-modal Transport Connectivity","Street Lighting","Drainage System","Visitor Parking"],F=["CCTV Surveillance","Anti-Theft Alarms","Fenced Boundary","Digital Access Control","Biometric Access","Night Surveillance","24/7 Security","Emergency Alarm System","Security Guard","Smoke Detectors","Video Door Security","Access Card Entry","Fire Safety System","RFID-based Entry","Security Guards","Near Fire Station","Fenced Perimeter","Emergency Medical Assistance","Gated Premises","Near Police Station","Boundary Wall","Boom Barriers at Entrance","Street Lighting for Safety","Resident Access Control"],w={Maharashtra:{Mumbai:["Andheri West","Andheri East","Bandra West","Bandra East","Borivali","Dadar","Colaba","Juhu","Kandivali","Kurla","Malad","Powai","Worli","Chembur","Vikhroli","Goregaon"],Pune:["Shivajinagar","Hinjewadi","Kothrud","Baner","Viman Nagar","Wakad","Koregaon Park"],Vasai:["Vasai West","Vasai East","Nalasopara","Virar","Naigaon"],Bandra:["Bandra West","Bandra East","Pali Hill","Carter Road","Mount Mary"]},Karnataka:{Bengaluru:["Indiranagar","Whitefield","HSR Layout","Jayanagar","Koramangala","Malleshwaram","BTM Layout","Yelahanka","Electronic City"],Mysuru:["VV Mohalla","Gokulam","Saraswathipuram","Jayalakshmipuram","Lakshmipuram"]},Goa:{Panaji:["Miramar","Dona Paula","Altinho","Campal"],Margao:["Fatorda","Borda","Navelim","Aquem"],Mapusa:["Assagao","Siolim","Anjuna","Calangute"]}};var P=s(2245);const I=[{label:"Cover Image",key:"coverImage"},{label:"Gallery Images",key:"galleryImages"},{label:"Floor Plan",key:"floorplanImages"},{label:"Media Files",key:"mediaFiles"}],D=e=>{let{mediaData:a,setMediaData:s}=e;const[r,i]=(0,l.useState)("coverImage"),[t,n]=(0,l.useState)(!0),[o,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(!0);return(0,u.jsxs)("div",{className:"media-upload-tabs",children:[(0,u.jsx)("nav",{className:"tabs",role:"tablist",children:I.map((e=>(0,u.jsx)("button",{type:"button",className:"tab "+(r===e.key?"active":""),onClick:()=>i(e.key),role:"tab","aria-selected":r===e.key,children:e.label},e.key)))}),(0,u.jsxs)("section",{className:"upload-area",children:[(0,u.jsxs)("label",{className:"upload-label",children:["Click or Drag files here",(0,u.jsx)("input",{type:"file",accept:"mediaFiles"===r?"image/*,video/*":"image/*",multiple:"coverImage"!==r,onChange:e=>{const a=Array.from(e.target.files).map((e=>"mediaFiles"===r?{type:e.type.includes("video")?"video":"image",src:URL.createObjectURL(e)}:URL.createObjectURL(e)));s((e=>{switch(r){case"coverImage":return{...e,coverImage:a[0]};case"galleryImages":return{...e,galleryImages:[...e.galleryImages,...a]};case"floorplanImages":return{...e,floorplanImages:[...e.floorplanImages,...a]};case"mediaFiles":return{...e,mediaFiles:[...e.mediaFiles,...a]};default:return e}}))},hidden:!0})]}),(0,u.jsx)("div",{className:"preview-gallery",children:(()=>{switch(r){case"coverImage":return a.coverImage&&(0,u.jsx)("img",{src:a.coverImage,alt:"Cover"});case"galleryImages":return a.galleryImages.map(((e,a)=>(0,u.jsx)("img",{src:e,alt:`Gallery ${a+1}`},a)));case"floorplanImages":return a.floorplanImages.map(((e,a)=>(0,u.jsx)("img",{src:e,alt:`Floorplan ${a+1}`},a)));case"mediaFiles":return a.mediaFiles.map(((e,a)=>"video"===e.type?(0,u.jsx)("video",{src:e.src,controls:!0},a):(0,u.jsx)("img",{src:e.src,alt:`Media ${a+1}`},a)));default:return null}})()})]}),(0,u.jsxs)("section",{className:"guidelines",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Accepted formats:"})," .jpg, .gif, .bmp, .png \u2014 Max size: 20MB, Min dimension: 600\xd7400 px"]}),(0,u.jsxs)("p",{children:["You can also email images to"," ",(0,u.jsx)("a",{href:"mailto:photos@magicbricks.com",children:"photos@magicbricks.com"})]}),(0,u.jsx)("div",{className:"image-guidelines",children:[{src:"/images/accepted.jpg",alt:"Accepted",valid:!0},{src:"/images/text-image.jpg",alt:"Image with text",valid:!1},{src:"/images/blurry.jpg",alt:"Blurry",valid:!1},{src:"/images/watermark.jpg",alt:"Watermark",valid:!1}].map(((e,a)=>{let{src:s,alt:l,valid:r}=e;return(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:s,alt:l}),(0,u.jsx)("div",{className:r?"tick":"cross",children:r?"\u2714":"\u2718"})]},a)}))})]}),(0,u.jsxs)("section",{className:"checkboxes",children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",checked:t,onChange:()=>n(!t)})," ","I am posting this property ",(0,u.jsx)("strong",{children:"'exclusively'"})," on Magicbricks"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",checked:o,onChange:()=>c(!o)})," ","I agree to Magicbricks T&C, Privacy Policy, & Cookie Policy"]}),(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",checked:d,onChange:()=>m(!d)})," ","I want to receive responses on ",(0,u.jsx)("span",{style:{color:"green"},children:"\ud83d\udfe2 WhatsApp"})]})]})]})},R=e=>{let{formData:a,handleChange:s}=e;return(0,u.jsxs)("section",{"aria-labelledby":"property-section",children:[(0,u.jsx)("h3",{id:"property-section",className:"section-title",children:"Property Information"}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"firstName",children:"Developer Name"}),(0,u.jsx)("input",{id:"firstName",className:"form-input",name:"firstName",placeholder:"Your first name",value:a.firstName||"",onChange:s,required:!0})]})}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"title",children:"Title"}),(0,u.jsx)("input",{id:"title",className:"form-input",name:"title",placeholder:"Property title",value:a.title||"",onChange:s,required:!0})]})}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"description",children:"Short Description"}),(0,u.jsx)("textarea",{id:"description",className:"form-input",name:"description",placeholder:"Brief description",value:a.description||"",onChange:s,required:!0,rows:3})]})}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"long_description",children:"Detailed Description"}),(0,u.jsx)("textarea",{id:"long_description",className:"form-input",name:"long_description",placeholder:"Detailed description",value:a.long_description||"",onChange:s,rows:5})]})})]})},B=e=>{let{formData:a,selectedState:s,selectedCity:l,handleStateChange:r,handleCityChange:i,handleLocalityChange:t,handleChange:n}=e;return(0,u.jsxs)("section",{"aria-labelledby":"location-section",children:[(0,u.jsx)("h3",{id:"location-section",className:"section-title",children:"Location Details"}),(0,u.jsxs)("div",{className:"location-details",children:[(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"state",children:"State"}),(0,u.jsxs)("select",{id:"state",className:"form-input",name:"state",value:a.state||"",onChange:r,required:!0,children:[(0,u.jsx)("option",{value:"",children:"Select State"}),Object.keys(w).map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})]}),(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"city",children:"City"}),(0,u.jsxs)("select",{id:"city",className:"form-input",name:"city",value:a.city||"",onChange:i,required:!0,disabled:!s,children:[(0,u.jsx)("option",{value:"",children:"Select City"}),s&&Object.keys(w[s]).map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"locality",children:"Locality"}),(0,u.jsxs)("select",{id:"locality",className:"form-input",name:"locality",value:a.locality||"",onChange:t,required:!0,disabled:!l,children:[(0,u.jsx)("option",{value:"",children:"Select Locality"}),s&&l&&w[s][l].map((e=>(0,u.jsx)("option",{value:e,children:e},e)))]})]}),(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"pincode",children:"Pincode"}),(0,u.jsx)("input",{id:"pincode",className:"form-input",name:"pincode",type:"number",placeholder:"Pincode",value:a.pincode||"",onChange:e=>{e.target.value.length<=6&&/^\d*$/.test(e.target.value)&&n(e)},required:!0})]})]}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"address",children:"Full Address"}),(0,u.jsx)("textarea",{id:"address",className:"form-input",name:"address",placeholder:"Complete property address",value:a.address||"",onChange:n,required:!0,rows:4})]})}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"mapLink",children:"Google Maps Link"}),(0,u.jsx)("input",{id:"mapLink",className:"form-input",name:"mapLink",type:"url",pattern:"https://.*",placeholder:"https://maps.google.com/...",value:a.mapLink||"",onChange:n}),(0,u.jsx)("small",{className:"form-text",children:"Paste the full Google Maps URL for this property"})]})})]})]})};var E=s(1118),M=s(2431),L=s(1963),T=s(446),W=s.n(T);const $=e=>{var a,s,r,i;let{formData:t,setFormData:n,handleRadioChange:o,handleChange:c,handleAreaValueChange:d,handleAreaUnitChange:m,reraDate:h,handleDateChange:p,handleCheckboxChange:A}=e;l.useEffect((()=>{console.log("Form Data:",t)}),[t]);const S={"Flats/Apartments":"Residential",Villa:"Residential",Plot:"Residential","Shop/Showroom":"Commercial",Retail:"Commercial","Industrial Warehouse":"Commercial"},F=e=>{let{name:a,options:s,value:l,onChange:r,withSuffix:i}=e;return(0,u.jsx)("div",{className:"radio-container",children:s.map((e=>{const s="string"===typeof e?e:e.value,t="string"===typeof e?e:e.label;return(0,u.jsxs)("label",{className:"radio-label "+(l===s?"selected":""),children:[(0,u.jsx)("input",{type:"radio",name:a,value:s,checked:l===s,onChange:r}),t," ",i||""]},s)}))})};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("section",{"aria-labelledby":"pricing-section",children:[(0,u.jsx)("h3",{id:"pricing-section",className:"section-title",children:"Property Details"}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{children:"Total Price (\u20b9)"}),(0,u.jsx)(E.A,{style:{width:"100%"},formatter:e=>`\u20b9 ${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\u20b9\s?|(,*)/g,""),min:0,value:t.price||0,onChange:e=>n({...t,price:e})})]})}),(0,u.jsx)("div",{className:"form-col",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",checked:t.priceNegotiable||!1,onChange:e=>n((a=>({...a,priceNegotiable:e.target.checked})))}),"Price Negotiable"]})}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsx)("div",{className:"form-col",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"checkbox",checked:t.reraApproved||!1,onChange:e=>n((a=>({...a,reraApproved:e.target.checked})))}),"RERA Approved"]})}),(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"reraNumber",children:"RERA Number (Optional)"}),(0,u.jsx)("input",{type:"text",id:"reraNumber",value:t.reraNumber||"",onChange:e=>n((a=>({...a,reraNumber:e.target.value}))),className:"form-control",placeholder:"Enter RERA Registration No.",disabled:!t.reraApproved})]})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Age of Property"}),(0,u.jsx)(F,{name:"ageOfProperty",options:k,value:t.ageOfProperty||"",onChange:o})]}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"totalFloors",children:"Total Floors in Building"}),(0,u.jsx)("input",{id:"totalFloors",className:"form-input",name:"totalFloors",type:"number",min:"1",placeholder:"Total floors",value:t.totalFloors||"",onChange:c})]})}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Floor Number"}),(0,u.jsx)(F,{name:"floor",options:C,value:t.floor||"",onChange:o})]}),(0,u.jsx)("div",{className:"form-row",children:(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{children:"Property Area"}),(0,u.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,u.jsx)(E.A,{min:0,value:null!==(a=null===(s=t.area)||void 0===s?void 0:s.value)&&void 0!==a?a:0,onChange:d,style:{flex:2},placeholder:"Enter area"}),(0,u.jsx)(M.A,{value:null!==(r=null===(i=t.area)||void 0===i?void 0:i.unit)&&void 0!==r?r:"sqft",onChange:m,options:[{value:"sqft",label:"Square Feet"},{value:"sqmts",label:"Square Meters"},{value:"guntas",label:"Guntas"},{value:"hectares",label:"Hectares"},{value:"acres",label:"Acres"}],style:{flex:1}})]})]})}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"unitsAvailable",children:"Units Available"}),(0,u.jsx)(E.A,{id:"unitsAvailable",min:1,max:1e3,style:{width:"100%"},value:t.unitsAvailable||1,onChange:e=>{const a=Math.floor(e);n({...t,unitsAvailable:a})},parser:e=>parseInt(e)||1,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),(0,u.jsxs)("div",{className:"form-col",children:[(0,u.jsx)("label",{htmlFor:"reraDate",children:"Available From"}),(0,u.jsx)(L.A,{value:h?W()(h):null,onChange:e=>p(e?e.toDate():null),format:"DD/MM/YYYY",placeholder:"Select date"})]})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Property Type"}),(0,u.jsx)("div",{className:"property-type-container",children:g.map((e=>(0,u.jsxs)("div",{className:"property-type-card "+(t.propertyType===e.label?"selected":""),onClick:()=>{n((a=>({...a,propertyType:e.label,propertyGroup:S[e.label]})))},children:[e.icon,(0,u.jsx)("span",{children:e.label})]},e.label)))})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Furnishings"}),(0,u.jsx)(F,{name:"furnishing",options:x,value:t.furnishing,onChange:o,withSuffix:""})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Possession Status"}),(0,u.jsx)(F,{name:"possessionStatus",options:v,value:t.possessionStatus,onChange:o,withSuffix:""})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"BHK Configuration"}),(0,u.jsx)(F,{name:"bhk",options:j,value:t.bhk,onChange:o,withSuffix:"BHK"})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Number of Bathrooms"}),(0,u.jsx)(F,{name:"bathrooms",options:y,value:t.bathrooms,onChange:o,withSuffix:"Bathroom"})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Number of Balconies"}),(0,u.jsx)(F,{name:"balconies",options:N,value:t.balconies,onChange:o,withSuffix:"Balcony"})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Facing"}),(0,u.jsx)(F,{name:"facing",options:b,value:t.facing,onChange:o,withSuffix:""})]}),(0,u.jsxs)("fieldset",{children:[(0,u.jsx)("legend",{children:"Parking Availability"}),(0,u.jsx)("div",{className:"radio-container",children:f.map((e=>(0,u.jsxs)("label",{className:"checkbox-label "+((t.parkings||[]).includes(e)?"selected":""),children:[(0,u.jsx)("input",{type:"checkbox",name:"parkings",value:e,checked:(t.parkings||[]).includes(e),onChange:()=>A("parkings",e)}),e]},e)))})]})]})})},q=e=>{let{formData:a,setFormData:s,editingId:r,isAdding:i,isUpdating:t,error:n,success:o,handleChange:c,onSubmit:d,handleCancelEdit:m}=e;const[h,p]=(0,l.useState)({coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[]}),[g,x]=(0,l.useState)(a.state||""),[v,j]=(0,l.useState)(a.city||""),[y,N]=(0,l.useState)(Array.isArray(a.landmarks)?a.landmarks:[]),[b,f]=(0,l.useState)(null),[k,C]=(0,l.useState)(Array.isArray(a.amenities)?a.amenities:[]),[I,E]=(0,l.useState)(Array.isArray(a.facilities)?a.facilities:[]),[M,L]=(0,l.useState)(Array.isArray(a.security)?a.security:[]);(0,l.useEffect)((()=>{x(a.state||""),j(a.city||""),N(Array.isArray(a.landmarks)?a.landmarks:[]),C(Array.isArray(a.amenities)?a.amenities:[]),E(Array.isArray(a.facilities)?a.facilities:[]),L(Array.isArray(a.security)?a.security:[]),f(a.reraDate?new Date(a.reraDate):null)}),[a]);return(0,u.jsxs)("div",{className:"form-container",children:[(0,u.jsx)("h2",{className:"form-title",children:r?"Edit Property Listing":"Add a New Property"}),(0,u.jsxs)("p",{className:"form-subtitle",children:["Welcome to your property dashboard. Use this form to provide complete details about your property.",(0,u.jsx)("br",{}),"Make sure all required information is accurate to attract potential buyers or renters."]}),n&&(0,u.jsx)(P.A,{message:n,type:"error",showIcon:!0,className:"alert"}),o&&(0,u.jsx)(P.A,{message:o,type:"success",showIcon:!0,className:"alert"}),(0,u.jsxs)("form",{className:"sellform-group",onSubmit:e=>{e.preventDefault(),d({...a,landmarks:y,amenities:k,facilities:I,security:M,parkings:Array.isArray(a.parkings)?a.parkings:[a.parkings].filter(Boolean),area:a.area||{value:"",unit:"sqft"},reraDate:b?b.toISOString():null,priceNegotiable:a.priceNegotiable||!1,reraApproved:a.reraApproved||!1,reraNumber:a.reraApproved?a.reraNumber:"",media:h})},children:[(0,u.jsx)(R,{formData:a,handleChange:c}),(0,u.jsx)(B,{formData:a,selectedState:g,selectedCity:v,handleStateChange:e=>{const l=e.target.value;x(l),j(""),s({...a,state:l,city:"",locality:""})},handleCityChange:e=>{const l=e.target.value;j(l),s({...a,city:l,locality:""})},handleLocalityChange:e=>{s({...a,locality:e.target.value})},handleChange:c,locationData:w}),(0,u.jsx)($,{formData:a,setFormData:s,handleRadioChange:e=>{const{name:a,value:l}=e.target;s((e=>({...e,[a]:l})))},handleChange:c,handleAreaValueChange:e=>{s((a=>({...a,area:{...a.area,value:e||0}})))},handleAreaUnitChange:e=>{s((a=>({...a,area:{...a.area,unit:e}})))},reraDate:b,handleDateChange:e=>{f(e),s((a=>({...a,reraDate:e?e.toISOString():null})))},handleCheckboxChange:(e,a)=>{s((s=>({...s,[e]:Array.isArray(s[e])?s[e].includes(a)?s[e].filter((e=>e!==a)):[...s[e],a]:[a]})))}}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h3",{className:"section-title",children:"Amenities"}),(0,u.jsx)("fieldset",{children:(0,u.jsx)("div",{className:"checkbox-container",children:A.map((e=>(0,u.jsxs)("label",{className:"checkbox-label "+(k.includes(e)?"selected":""),children:[(0,u.jsx)("input",{type:"checkbox",value:e,checked:k.includes(e),onChange:()=>(e=>{const a=k.includes(e)?k.filter((a=>a!==e)):[...k,e];C(a),s((e=>({...e,amenities:a})))})(e)}),e]},e)))})})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h3",{className:"section-title",children:"Facilities"}),(0,u.jsx)("fieldset",{children:(0,u.jsx)("div",{className:"checkbox-container",children:S.map((e=>(0,u.jsxs)("label",{className:"checkbox-label "+(I.includes(e)?"selected":""),children:[(0,u.jsx)("input",{type:"checkbox",value:e,checked:I.includes(e),onChange:()=>(e=>{const a=I.includes(e)?I.filter((a=>a!==e)):[...I,e];E(a),s((e=>({...e,facilities:a})))})(e)}),e]},e)))})})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsx)("h3",{className:"section-title",children:"Security"}),(0,u.jsx)("fieldset",{children:(0,u.jsx)("div",{className:"checkbox-container",children:F.map((e=>(0,u.jsxs)("label",{className:"checkbox-label "+(M.includes(e)?"selected":""),children:[(0,u.jsx)("input",{type:"checkbox",value:e,checked:M.includes(e),onChange:()=>(e=>{const a=M.includes(e)?M.filter((a=>a!==e)):[...M,e];L(a),s((e=>({...e,security:a})))})(e)}),e]},e)))})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"Add Property Media"}),(0,u.jsx)(D,{mediaData:h,setMediaData:p})]}),(0,u.jsxs)("div",{className:"form-buttons",children:[(0,u.jsx)("button",{className:"submit-button",type:"submit",disabled:i||t,children:i||t?i?"Submitting...":"Updating...":r?"Update Property":"Add Property"}),r&&(0,u.jsx)("button",{type:"button",className:"cancel-button",onClick:m,children:"Cancel"})]})]})]})};var G=s(7929);const U=e=>{let{activeTab:a,setActiveTab:s,user:r,handleLogout:i}=e;const[t,n]=(0,l.useState)(!1);return(0,u.jsx)("div",{className:"dashboard-nav",children:(0,u.jsxs)("div",{className:"dashboard-nav-container",children:[(0,u.jsxs)("div",{className:"profile-section",children:[(0,u.jsx)("div",{className:"profile-name",children:"Welcome,"}),(0,u.jsx)("div",{className:"profile-name",children:(null===r||void 0===r?void 0:r.displayName)||"Developer"})]}),(0,u.jsxs)("ul",{className:"nav-list",children:[(0,u.jsxs)("li",{className:"nav-item dashboard-dropdown",children:[(0,u.jsxs)("div",{className:"dropdown-trigger",onClick:()=>n(!t),children:[(0,u.jsx)(p.g,{icon:G.v02,className:"nav-icon"}),(0,u.jsx)("span",{children:"Overview"})]}),(0,u.jsxs)("ul",{className:"dropdown-content "+(t?"open":""),children:[(0,u.jsx)("li",{className:"stat-card",children:"Total Properties: "}),(0,u.jsx)("li",{className:"stat-card",children:"Pending Approvals: "}),(0,u.jsx)("li",{className:"stat-card",children:"Site Visits: "})]})]}),(0,u.jsxs)("li",{className:"nav-item "+("sell"===a?"active":""),onClick:()=>s("sell"),children:[(0,u.jsx)(p.g,{icon:G.OQW,className:"nav-icon"}),"Sell Property"]}),(0,u.jsxs)("li",{className:"nav-item "+("properties"===a?"active":""),onClick:()=>s("properties"),children:[(0,u.jsx)(p.g,{icon:G.YEm,className:"nav-icon"}),"My Properties"]}),(0,u.jsxs)("li",{className:"nav-item",children:[(0,u.jsx)(p.g,{icon:G.QEm,className:"nav-icon"}),"Support / Help Center"]}),(0,u.jsxs)("li",{className:"nav-item",onClick:i,children:[(0,u.jsx)(p.g,{icon:G.GxD,className:"nav-icon"}),"Log Out"]})]})]})})};var V=s(2768);const H="http://localhost:5000",O=()=>{const[e,a]=(0,l.useState)("sell"),s=(0,r.Zp)(),o=(0,l.useMemo)((()=>localStorage.getItem("token")||""),[]),c=(0,i.jE)(),[d,m]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",title:"",description:"",long_description:"",state:"",city:"",locality:"",address:"",pincode:"",landmarks:[],area:{value:0,unit:"sqft"},reraApproved:!1,reraNumber:"",priceNegotiable:!1,price:"",propertyGroup:"",propertyType:"",furnishing:"",possessionStatus:"",bhk:"",bathrooms:"",balconies:"",facing:"",parkings:[],ageOfProperty:"",totalFloors:"",floor:"",unitsAvailable:"",reraDate:null,coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[],amenities:[],facilities:[],security:[]}),h=(0,l.useCallback)((e=>e?e>=1e7?`\u20b9${(e/1e7).toFixed(2)} Cr`:e>=1e5?`\u20b9${(e/1e5).toFixed(2)} Lakh`:`\u20b9${e.toLocaleString("en-IN")}`:"Price on Request"),[]),[p,g]=(0,l.useState)(""),[x,v]=(0,l.useState)(""),[j,y]=(0,l.useState)(null),{data:N}=(0,t.I)({queryKey:["current-user"],queryFn:async()=>{try{return(await V.A.get("/api/auth/me",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data.user}catch(p){var e;throw 401===(null===(e=p.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("token"),s("/login")),p}},enabled:!!o,staleTime:36e5});(0,l.useEffect)((()=>{o||s("/login")}),[o,s]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{g(""),v("")}),5e3);return()=>clearTimeout(e)}),[p,x]);const b=(0,l.useCallback)((()=>{localStorage.removeItem("token"),c.removeQueries(["my-properties"]),c.removeQueries(["current-user"]),s("/login")}),[s,c]),{data:f=[],isLoading:k,isError:C,refetch:A}=(0,t.I)({queryKey:["my-properties"],queryFn:async()=>{try{const e=await V.A.get("/api/properties/my-properties",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!Array.isArray(e.data))throw new Error("Invalid response format");return e.data}catch(p){var e;throw 401===(null===(e=p.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("token"),s("/login")),p}},enabled:!!o,onError:e=>{var a,l,r;const i=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)||"Failed to fetch properties"),401===i&&(localStorage.removeItem("token"),s("/login"))}}),{mutate:S,isPending:F}=(0,n.n)({mutationFn:e=>V.A.post("/api/properties/add",e,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{m({title:"",description:"",long_description:"",city:"",locality:"",address:"",pincode:""}),v("Property added successfully"),y(null),A(),a("properties")},onError:e=>{var a,s,l,r,i,t;console.error("Full error:",e),console.error("Response data:",null===(a=e.response)||void 0===a?void 0:a.data);const n=null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status,o=(null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)||(null===(i=e.response)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.error)||"Failed to add property";g(o),401!==n&&403!==n||b()}}),{mutate:w,isPending:P}=(0,n.n)({mutationFn:e=>V.A.put(`/api/properties/update/${j}`,e,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{m({title:"",description:"",long_description:"",city:"",locality:"",address:"",pincode:""}),v("Property updated successfully"),y(null),A(),a("properties")},onError:e=>{var a,s,l;const r=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to update property"),401!==r&&403!==r||b()}}),{mutate:I}=(0,n.n)({mutationFn:e=>V.A.delete(`/api/properties/delete/${e}`,{headers:{Authorization:`Bearer ${o}`}}),onSuccess:()=>{v("Property deleted successfully"),A()},onError:e=>{var a,s,l;const r=null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status;g((null===e||void 0===e||null===(s=e.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to delete property"),401!==r&&403!==r||b()}});return(0,u.jsx)("div",{className:"dashboard-container",children:(0,u.jsxs)("div",{className:"dashboard-layout",children:[(0,u.jsx)(U,{activeTab:e,setActiveTab:a,user:N,handleLogout:b}),(0,u.jsxs)("div",{className:"dashboard-content",children:["sell"===e&&(0,u.jsx)(q,{formData:d,setFormData:m,editingId:j,isAdding:F,isUpdating:P,error:p,success:x,handleChange:e=>{const{name:a,value:s}=e.target;m((e=>({...e,[a]:s})))},onSubmit:e=>{const a=["title","description","city","locality","address","pincode","propertyType","furnishing","possessionStatus","price","unitsAvailable"].filter((a=>!e[a]));a.length>0?g(`Please fill in all required fields: ${a.join(", ")}`):j?w(e):S(e)},handleCancelEdit:()=>{y(null),m({firstName:"",lastName:"",email:"",phone:"",title:"",description:"",long_description:"",state:"",city:"",locality:"",address:"",pincode:"",landmarks:[],propertyType:"",furnishing:"",possessionStatus:"",bhk:"",bathrooms:"",balconies:"",facing:"",parkings:[],price:"",ageOfProperty:"",totalFloors:"",floor:"",coverImage:"",galleryImages:[],floorplanImages:[],mediaFiles:[],amenities:[],facilities:[],security:[],area:{value:0,unit:"sqft"},unitsAvailable:"",reraDate:"",mapLink:"",reraApproved:!1,reraNumber:"",priceNegotiable:!1})}}),"properties"===e&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"properties-title",children:"My Properties"}),k?(0,u.jsx)("div",{children:"Loading properties..."}):C?(0,u.jsx)("div",{className:"error",children:"Error loading properties"}):f.length>0?(0,u.jsx)("div",{className:"properties-grid",children:f.map((e=>{var s,l,r;return(0,u.jsxs)("div",{className:"property-card",children:[(0,u.jsxs)("div",{className:"property-header",children:[(0,u.jsx)("h4",{className:"property-title",children:e.title}),(0,u.jsx)("div",{className:"property-status",style:{color:"approved"===e.status?"green":"rejected"===e.status?"red":"orange"},children:e.status})]}),e.coverImage&&(0,u.jsx)("div",{className:"property-cover",children:(0,u.jsx)("img",{src:e.coverImage.startsWith("http")?e.coverImage:`${H}${e.coverImage}`,alt:e.title,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-property.jpg"}})}),(null===(s=e.galleryImages)||void 0===s?void 0:s.length)>0&&(0,u.jsx)("div",{className:"property-galleryy",children:(0,u.jsx)("div",{className:"gallery-scroll",children:e.galleryImages.map(((e,a)=>(0,u.jsx)("img",{src:e.startsWith("http")?e:`${H}${e}`,alt:`Gallery ${a}`},a)))})}),(0,u.jsxs)("div",{className:"property-details",children:[(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Location:"}),(0,u.jsxs)("span",{children:[e.state,",",e.locality,", ",e.city]})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Address:"}),(0,u.jsxs)("span",{children:[e.address,",",e.pincode]})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Map Link:"}),(0,u.jsx)("span",{children:e.mapLink})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Property Type:"}),(0,u.jsx)("span",{children:e.propertyType})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Furnishing:"}),(0,u.jsx)("span",{children:e.furnishing})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Possession Status:"}),(0,u.jsx)("span",{children:e.possessionStatus})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"BHK:"}),(0,u.jsx)("span",{children:e.bhk})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Bathrooms:"}),(0,u.jsx)("span",{children:e.bathrooms})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Balconies:"}),(0,u.jsx)("span",{children:e.balconies})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Facing:"}),(0,u.jsx)("span",{children:e.facing})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Parking:"}),(0,u.jsx)("span",{children:e.parkings})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Developer Name:"}),(0,u.jsx)("span",{children:e.firstName})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Price:"}),(0,u.jsxs)("span",{children:[h(e.price),"(\u20b9",e.price,")"]})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Area:"}),(0,u.jsxs)("span",{children:[null===(l=e.area)||void 0===l?void 0:l.value," ",null===(r=e.area)||void 0===r?void 0:r.unit]})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Property Age:"}),(0,u.jsx)("span",{children:e.ageOfProperty})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Total Floors:"}),(0,u.jsx)("span",{children:e.totalFloors})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Floor No:"}),(0,u.jsx)("span",{children:e.floor})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Units Availability:"}),(0,u.jsx)("span",{children:e.unitsAvailable})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Availability Date:"}),(0,u.jsx)("span",{children:e.reraDate?new Date(e.reraDate).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"Not set"})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:" RERA Approved:"}),(0,u.jsx)("span",{children:e.reraApproved?"\u2705":"\u274c"})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:" RERA No:"}),(0,u.jsx)("span",{children:e.reraNumber})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Price is negotiable:"}),(0,u.jsx)("span",{children:e.priceNegotiable?"\u2705":"\u274c"})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Amenities:"}),(0,u.jsx)("span",{children:e.amenities})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Facilities:"}),(0,u.jsx)("span",{children:e.facilities})]}),(0,u.jsxs)("div",{className:"detail-row",children:[(0,u.jsx)("span",{className:"detail-label",children:"Security:"}),(0,u.jsx)("span",{children:e.security})]})]}),(0,u.jsxs)("div",{className:"property-description",children:[(0,u.jsx)("h5",{children:"Description:"}),(0,u.jsx)("p",{children:e.description}),e.long_description&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h5",{children:"Details:"}),(0,u.jsx)("p",{children:e.long_description})]})]}),e.floorplanImages&&e.floorplanImages.length>0&&(0,u.jsxs)("div",{className:"property-floorplans",children:[(0,u.jsxs)("h5",{children:["Floor Plans (",e.floorplanImages.length,")"]}),(0,u.jsx)("div",{className:"floorplan-grid",children:e.floorplanImages.map(((e,a)=>(0,u.jsx)("div",{className:"floorplan-item",children:(0,u.jsx)("img",{src:`${H}${e}`,alt:`Floorplan ${a}`,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-floorplan.jpg"}})},a)))})]}),e.mediaFiles&&e.mediaFiles.length>0&&(0,u.jsxs)("div",{className:"property-media",children:[(0,u.jsxs)("h5",{children:["Media Files (",e.mediaFiles.length,")"]}),(0,u.jsx)("div",{className:"media-grid",children:e.mediaFiles.map(((e,a)=>(0,u.jsx)("div",{className:"media-item",children:"image"===e.type?(0,u.jsx)("img",{src:`${H}${e.src}`,alt:`Media ${a}`,onError:e=>{e.target.onerror=null,e.target.src="/placeholder-image.jpg"}}):(0,u.jsx)("div",{className:"video-container",children:(0,u.jsx)("video",{controls:!0,children:(0,u.jsx)("source",{src:`${H}${e.src}`,type:`video/${e.src.split(".").pop()}`})})})},a)))})]}),"rejected"===e.status&&e.rejectionReason&&(0,u.jsxs)("div",{className:"property-rejection",children:[(0,u.jsx)("h5",{children:"Rejection Reason:"}),(0,u.jsx)("p",{children:e.rejectionReason})]}),(0,u.jsxs)("div",{className:"property-actions",children:[(0,u.jsx)("button",{className:"edit-button",onClick:()=>{return y((s=e)._id),m({firstName:s.firstName||"",title:s.title||"",description:s.description||"",long_description:s.long_description||"",state:s.state||"",city:s.city||"",locality:s.locality||"",address:s.address||"",pincode:s.pincode||"",propertyType:s.propertyType||"",furnishing:s.furnishing||"",possessionStatus:s.possessionStatus||"",bhk:s.bhk||"",bathrooms:s.bathrooms||"",balconies:s.balconies||"",facing:s.facing||"",parkings:Array.isArray(s.parkings)?s.parkings:s.parkings?[s.parkings]:[],landmarks:Array.isArray(s.landmarks)?s.landmarks:[],price:s.price||"",ageOfProperty:s.ageOfProperty||"New",totalFloors:s.totalFloors||"",floor:s.floor||"",coverImage:s.coverImage||"",galleryImages:s.galleryImages||[],floorplanImages:s.floorplanImages||[],mediaFiles:s.mediaFiles||[],amenities:s.amenities||[],facilities:s.facilities||[],security:s.security||[],area:s.area||{value:0,unit:"sqft"},unitsAvailable:s.unitsAvailable||1,reraDate:s.reraDate||null,mapLink:s.mapLink||"",reraApproved:s.reraApproved||!1,reraNumber:s.reraNumber||"",priceNegotiable:s.priceNegotiable||!1}),a("sell"),void window.scrollTo({top:0,behavior:"smooth"});var s},children:"Edit"}),(0,u.jsx)("button",{className:"delete-button",onClick:()=>{return a=e._id,void(window.confirm("Are you sure you want to delete this property?")&&I(a));var a},children:"Delete"})]})]},e._id)}))}):(0,u.jsx)("div",{className:"empty-state",children:"No properties found"})]})]})]})})}}}]);
//# sourceMappingURL=106.f2d9025e.chunk.js.map