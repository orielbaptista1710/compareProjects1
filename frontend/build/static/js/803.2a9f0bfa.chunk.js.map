{"version":3,"file":"static/js/803.2a9f0bfa.chunk.js","mappings":"4KAMA,MAoHA,EApHkBA,KAChB,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CAAEC,SAAU,GAAIC,SAAU,MAC5DC,EAAYC,IAAiBJ,EAAAA,EAAAA,WAAS,IACtCK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,KAC5BO,EAASC,IAAcR,EAAAA,EAAAA,WAAS,GACjCS,GAAWC,EAAAA,EAAAA,MAEXC,EAAgBC,IACpBb,EAAY,IAAKD,EAAU,CAACc,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,OAAQ,EAyC/D,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UAGxBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,aAAaG,SA3CdC,UAKnB,GAJAT,EAAEU,iBACFd,GAAW,GACXF,EAAS,KAEJR,EAASG,WAAaH,EAASI,SAGlC,OAFAI,EAAS,gDACTE,GAAW,GAIb,IACE,MAAM,KAAEe,SAAeC,EAAAA,EAAIC,KACzB,kBACA3B,EACA,CAAE4B,QAAS,CAAE,eAAgB,sBAG3BH,EAAKI,OAASJ,EAAKK,MACrBC,aAAaC,QAAQ,QAASP,EAAKI,OACnCE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUT,EAAKK,OACjDnB,EAA4B,UAAnBc,EAAKK,KAAKK,KAAmB,SAAW,eAEjD3B,EAAS,gDAEb,CAAE,MAAO4B,GAAM,IAADC,EAAAC,EACZC,QAAQhC,MAAM,eAAgB6B,GAC9B,MAAMI,GACQ,QAAZH,EAAAD,EAAIK,gBAAQ,IAAAJ,GAAM,QAANC,EAAZD,EAAcZ,YAAI,IAAAa,OAAN,EAAZA,EAAoBI,WACnBN,EAAIK,SAAW,iBAAiBL,EAAIK,SAASE,UAC7CP,EAAIQ,QAAU,0BACd,4BACHpC,EAASgC,EACX,CAAC,QACC9B,GAAW,EACb,GAQwDU,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gBAAeC,SAAC,kBAE9BC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,cAAaC,SAAA,CAAC,YAE7BF,EAAAA,EAAAA,KAAA,SACE2B,KAAK,OACL7B,KAAK,WACLG,UAAU,cACV2B,YAAY,iBACZ7B,MAAOjB,EAASG,SAChB4C,SAAUlC,EACVmC,UAAQ,QAIZ3B,EAAAA,EAAAA,MAAA,SAAOF,UAAU,cAAaC,SAAA,CAAC,YAE7BF,EAAAA,EAAAA,KAAA,SACE2B,KAAK,WACL7B,KAAK,WACLG,UAAU,cACV2B,YAAY,iBACZ7B,MAAOjB,EAASI,SAChB2C,SAAUlC,EACVmC,UAAQ,QAIZ3B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,cAAaC,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,SACE2B,KAAK,WACLI,QAAS5C,EACT0C,SAAUA,IAAMzC,GAAeD,KAC/B,kBAGJa,EAAAA,EAAAA,KAAA,UACE2B,KAAK,SACL1B,UAAU,kBACV+B,QAASA,IAAMC,MAAM,2BAA2B/B,SACjD,yBAKHF,EAAAA,EAAAA,KAAA,UACE2B,KAAK,SACL1B,UAAU,eACViC,SAAU3C,EAAQW,SAEjBX,EAAU,gBAAkB,UAG9BF,IAASW,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SAAEb,UAGxC,C","sources":["pages/LoginPage.js"],"sourcesContent":["import { useState } from 'react';\r\n// import axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './LoginPage.css';\r\nimport API from '../api';\r\n\r\nconst LoginPage = () => {\r\n  const [formData, setFormData] = useState({ username: '', password: '' });\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    if (!formData.username || !formData.password) {\r\n      setError('Please enter both username and password');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data } = await API.post(\r\n        '/api/auth/login',\r\n        formData,\r\n        { headers: { 'Content-Type': 'application/json' } }\r\n      );\r\n\r\n      if (data.token && data.user) {\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        navigate(data.user.role === 'admin' ? '/admin' : '/dashboard');\r\n      } else {\r\n        setError('Unexpected server response. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n      const msg =\r\n        err.response?.data?.message ||\r\n        (err.response ? `Login failed (${err.response.status})` :\r\n         err.request ? 'No response from server' :\r\n         'Error setting up request');\r\n      setError(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-box\">\r\n        {/* <img src={logoo} alt=\"Logo\" className=\"login-logo\" /> */}\r\n\r\n        <form className=\"login-form\" onSubmit={handleSubmit}>\r\n          <h2 className=\"login-heading\">Welcome Back</h2>\r\n\r\n          <label className=\"login-label\">\r\n            Username\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              className=\"login-input\"\r\n              placeholder=\"Enter username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </label>\r\n\r\n          <label className=\"login-label\">\r\n            Password\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"login-input\"\r\n              placeholder=\"Enter password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </label>\r\n\r\n          <div className=\"login-extra\">\r\n            <label className=\"remember-me\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={rememberMe}\r\n                onChange={() => setRememberMe(!rememberMe)}\r\n              />\r\n              Remember me\r\n            </label>\r\n            <button\r\n              type=\"button\"\r\n              className=\"forgot-password\"\r\n              onClick={() => alert('Reset link coming soon!')}\r\n            >\r\n              Forgot password?\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"login-button\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Logging in...' : 'Login'}\r\n          </button>\r\n\r\n          {error && <div className=\"login-error\">{error}</div>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["LoginPage","formData","setFormData","useState","username","password","rememberMe","setRememberMe","error","setError","loading","setLoading","navigate","useNavigate","handleChange","e","target","name","value","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","data","API","post","headers","token","user","localStorage","setItem","JSON","stringify","role","err","_err$response","_err$response$data","console","msg","response","message","status","request","type","placeholder","onChange","required","checked","onClick","alert","disabled"],"sourceRoot":""}